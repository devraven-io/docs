"use strict";(self.webpackChunkdevraven_docs=self.webpackChunkdevraven_docs||[]).push([[3643],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=o,f=m["".concat(c,".").concat(d)]||m[d]||l[d]||i;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var p=2;p<i;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1303:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return l}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],s={sidebar_position:8},c="Execution sequence",p={unversionedId:"api-monitoring/execution-sequence",id:"api-monitoring/execution-sequence",title:"Execution sequence",description:"API monitors are capable of evaluating multiple expressions and executing custom scripts when a monitor is triggered for execution. Following is the flow of execution for a monitor.",source:"@site/docs/api-monitoring/execution-sequence.md",sourceDirName:"api-monitoring",slug:"/api-monitoring/execution-sequence",permalink:"/docs/api-monitoring/execution-sequence",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Monitoring Assertions",permalink:"/docs/api-monitoring/assertions"},next:{title:"Third party libraries",permalink:"/docs/api-monitoring/third-party-libraries"}},u={},l=[],m={toc:l};function d(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"execution-sequence"},"Execution sequence"),(0,i.kt)("p",null,"API monitors are capable of evaluating multiple expressions and executing custom scripts when a monitor is triggered for execution. Following is the flow of execution for a monitor."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"1. Environment variables are set")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Variables defined in the environment associated to the monitor are set as environment variables for test exection.\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"2. Context object is set")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"A Context object is created.\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"3. Request Template variables are resolved")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Any variables defined as MustacheJS templates in Request URL, Body, Headers are evaluated and replaced. `devraven.request` object is set.\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"4. Before Request script execution")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"If a Before Request script is configured, the script will be executed. This script has access to environment variables accessible via `process.env.<variable name>`, `devraven.context` and `devraven.request`.\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"5. HTTP Request execution")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"The HTTP request is executed based on `devraven.request` object. Upon request completion, `devraven.response` object is created.\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"6. Simple assertions evaluation")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Configured assertions are evaluated.\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"7. After Request script execution")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Any configured After Request script is executed. \n")),(0,i.kt)("p",null,"At any time during the execution of these steps, if an exception is throw, the test is marked as 'FAILED' and monitor execution terminates immediately."),(0,i.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If multiple assertions are configured for a monitor and one of the assertions results in a failure, the remaining assertions including After Script are skipped."))))}d.isMDXComponent=!0}}]);