"use strict";(self.webpackChunkdevraven_docs=self.webpackChunkdevraven_docs||[]).push([[8672],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return f}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=r.createContext({}),c=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,s=e.originalType,p=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=c(t),f=o,m=d["".concat(p,".").concat(f)]||d[f]||l[f]||s;return t?r.createElement(m,i(i({ref:n},u),{},{components:t})):r.createElement(m,i({ref:n},u))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var s=t.length,i=new Array(s);i[0]=d;var a={};for(var p in n)hasOwnProperty.call(n,p)&&(a[p]=n[p]);a.originalType=e,a.mdxType="string"==typeof e?e:o,i[1]=a;for(var c=2;c<s;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4944:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return p},default:function(){return f},frontMatter:function(){return a},metadata:function(){return c},toc:function(){return l}});var r=t(7462),o=t(3366),s=(t(7294),t(3905)),i=["components"],a={sidebar_position:7},p="Monitoring Assertions",c={unversionedId:"api-monitoring/assertions",id:"api-monitoring/assertions",title:"Monitoring Assertions",description:"Assertions are required to validate if your API is working as expected. Without any assertions, your API monitor will not report any failures. Assertions can be setup with simple configuration or even complex assertions can be also be scripted in After Request scripts.",source:"@site/docs/api-monitoring/assertions.md",sourceDirName:"api-monitoring",slug:"/api-monitoring/assertions",permalink:"/docs/api-monitoring/assertions",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Context variables",permalink:"/docs/api-monitoring/context"},next:{title:"Execution sequence",permalink:"/docs/api-monitoring/execution-sequence"}},u={},l=[],d={toc:l};function f(e){var n=e.components,a=(0,o.Z)(e,i);return(0,s.kt)("wrapper",(0,r.Z)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"monitoring-assertions"},"Monitoring Assertions"),(0,s.kt)("p",null,"Assertions are required to validate if your API is working as expected. Without any assertions, your API monitor will not report any failures. Assertions can be setup with ",(0,s.kt)("strong",{parentName:"p"},"simple configuration")," or even complex assertions can be also be scripted in ",(0,s.kt)("strong",{parentName:"p"},"After Request")," scripts."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Simple configuration based assertions")),(0,s.kt)("p",null,"No code assertions can be added to API monitors as shown in the screenshot below."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Simple Assertions",src:t(9023).Z,width:"2226",height:"908"})),(0,s.kt)("p",null,"Assertions based on HTTP Response Status Code, Response Time, Headers, String body or JSON body can be added."),(0,s.kt)("p",null,"::: info"),(0,s.kt)("p",null,"We support JSONPath expressions for retrieving values from JSON response. The assertion always return a value matching the first element for the provided JSONPath Expression. For example, if your JSONPath returns in returning array, only the first element is used for evaluting the assertion."),(0,s.kt)("p",null,"For complex assertions, we recommend leveraging After Request scrips for assertions."),(0,s.kt)("p",null,":::"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Scripted assertions"),"\nComplex assertions can be scripted and can be added to ",(0,s.kt)("strong",{parentName:"p"},"After Request")," scripts. Chai.js library can be used for adding assertions."),(0,s.kt)("p",null,"Following is an example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-JS"},"\nconst { expect } = require('chai');\n\nconst body = devraven.response.jsonBody;\nexpect(body).to.be.an('array')\nexpect(body).to.have.lengthOf.above(0);\n\n//devraven.response.status -- returns status code\n//devraven.response.headers -- returns headers\n//devraven.response.responseTime - returns time taken to complete the http request\n//devraven.response.body - Response body in string format\n//devraven.response.jsonBody - Response body as JSON Object if the payload is JSON format or will be {}\n\n")))}f.isMDXComponent=!0},9023:function(e,n,t){n.Z=t.p+"assets/images/simple-assertions-447b6e94447e90a257f9bbdbecb1c261.png"}}]);