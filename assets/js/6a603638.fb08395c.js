"use strict";(self.webpackChunkdevraven_docs=self.webpackChunkdevraven_docs||[]).push([[8258],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return d}});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(t),d=i,v=m["".concat(c,".").concat(d)]||m[d]||u[d]||a;return t?r.createElement(v,o(o({ref:n},p),{},{components:t})):r.createElement(v,o({ref:n},p))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=m;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=t[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9471:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var r=t(7462),i=t(3366),a=(t(7294),t(3905)),o=["components"],s={sidebar_position:12},c="Using Environment Variables",l={unversionedId:"synthetic-monitoring/using-variables",id:"synthetic-monitoring/using-variables",title:"Using Environment Variables",description:"Synthetic tests can leverage variables defined in Environments instead of hardcoding values in your test. Any variables defined in the associated environment can be accessed in the test script.",source:"@site/docs/synthetic-monitoring/using-variables.md",sourceDirName:"synthetic-monitoring",slug:"/synthetic-monitoring/using-variables",permalink:"/docs/synthetic-monitoring/using-variables",draft:!1,tags:[],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12},sidebar:"tutorialSidebar",previous:{title:"Test Execution Time",permalink:"/docs/synthetic-monitoring/test-execution-time"},next:{title:"Preserving state values",permalink:"/docs/synthetic-monitoring/preserving-values"}},p={},u=[],m={toc:u};function d(e){var n=e.components,s=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},m,s,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"using-environment-variables"},"Using Environment Variables"),(0,a.kt)("p",null,"Synthetic tests can leverage variables defined in Environments instead of hardcoding values in your test. Any variables defined in the associated environment can be accessed in the test script."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Associate Environment to a Test",src:t(3312).Z,width:"2248",height:"1238"})),(0,a.kt)("p",null,"For example if you are adding a test which performs login to an end point, the username, password and the url can be externalized to an Environment object. The variables defined in the Envrionment are available as environment variables during the test execution. The variables can then be accessed as ",(0,a.kt)("inlineCode",{parentName:"p"},"process.env.<variable name>")," in your test."),(0,a.kt)("p",null,"Here is an example snippet using ",(0,a.kt)("inlineCode",{parentName:"p"},"process.env.username")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"process.env.password")," variables from the associated environment."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const { chromium } = require('playwright');\nconst { expect } = require('chai');\n\nconst browser = await chromium.launch();    \nconst page = await browser.newPage();\nawait page.goto('https://www.example.com/login', { waitUntil:'networkidle' });\n\n//fill username and password on the form\nawait page.fill('[name=username]', process.env.username); //use environment variables\n\nawait page.fill('[name=password]', process.env.password);\n\nawait page.locator('.login-box >> text=\"Log In\"').click();\n\nawait page.waitForResponse('**/api/Login');\nexpect(await page.locator('div.text-danger >> text = Login Failed!').isVisible()).to.be.true;\nbrowser.close();\n")),(0,a.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Variables with prefix ",(0,a.kt)("inlineCode",{parentName:"p"},"__DR_")," are reserved for usage by DevRaven for setting system variables while running monitors. Do not use this prefix while creating variables in your environment. Variables with ",(0,a.kt)("inlineCode",{parentName:"p"},"__DR_")," prefix can get overridden during execution."))))}d.isMDXComponent=!0},3312:function(e,n,t){n.Z=t.p+"assets/images/associate-environment-bbfea890c77dc5236b5bead6ec5bc408.png"}}]);